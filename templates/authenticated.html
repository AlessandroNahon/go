{{define "authenticated"}}
  <!DOCTYPE html>
  <html lang="en">
    <head>
      {{template "meta" .}}
      <title>App | CFA Tools</title>
    </head>

    <body>
      {{ template "header" . }}
      <h1 class="text-5xl">{{.PageTitle}}</h1>


      <div class="container mx-auto w-6/12">
        <div class="container mx-auto mb-5">
          <h2 class="pb-2 text-xl">Film List</h2>
      
          <ul id="film-list">
            {{ $films := .Films }}
            {{ range $films := $films.Films  }}
              {{ block "film-list-element" .}}
                <li>{{ .Title }} - {{ .Director }}</li>
              {{ end }}
            {{ end }}
          </ul>
        </div>
      
        <div>
          <h2 class="pb-2 text-xl">Add Film</h2>
      
          <form hx-post="/add-film/" hx-target="#film-list" hx-swap="beforeend" hx-indicator="#spinner" hx-on::after-request="this.reset()">
            <div>
              <label for="film-title">Title</label>
              <input type="text" name="title" id="film-title" class="border-b" />
            </div>
            <div class="mb-3">
              <label for="film-director">Director</label>
              <input type="text" name="director" id="film-director" class="border-b" />
            </div>
      
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
              <span id="spinner" role="status" aria-hidden="true"></span>
              Submit
            </button>
          </form>
        </div>
      
      </div>
    </body>

  </html>
{{end}}